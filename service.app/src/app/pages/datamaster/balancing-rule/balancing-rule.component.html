<nb-card [nbSpinner]="loading"
nbSpinnerSize="small"
nbSpinnerStatus="primary">

    <nb-card-header>
        <span>Balancing Rules</span>
        <nb-actions size="small">
            <nb-action
              icon="more-vertical-outline"
              [matMenuTriggerFor]="actionMenu"
            ></nb-action>
          </nb-actions>
          <mat-menu #actionMenu="matMenu" yPosition="below" xPosition="before">
            <button
              mat-menu-item
              [matMenuTriggerFor]="exportMenu"
              class="action-button"
            >
              Export
            </button>
          </mat-menu>
      
          <mat-menu #exportMenu="matMenu" yPosition="below" xPosition="before">
            <button mat-menu-item class="action-button" (click)="exportAsXLSXRules()">
              XLSX Rules
            </button>
            <button mat-menu-item class="action-button" (click)="exportAsCSVRules()">
              CSV Rules
            </button>
            <button
              mat-menu-item
              class="action-button"
              (click)="exportAsXLSXParameters()"
            >
              XLSX Parameters
            </button>
            <button
              mat-menu-item
              class="action-button"
              (click)="exportAsCSVParameters()"
            >
              CSV Parameters
            </button>
          </mat-menu>
    </nb-card-header>
    <nb-card-body>
        <nb-tabset>
            <nb-tab tabTitle="Rules">
              <div class="col-sm-12" style="text-align: right; margin-bottom: 0.5rem;">
                <button
                type="submit"
                nbButton
                status="basic"
                (click)="refreshRules()"
                size="tiny"
            
          
              >
              <nb-icon icon="sync-outline"></nb-icon>
              Refresh
              </button>
              &nbsp;&nbsp;&nbsp;
                <nb-select       [(selected)]="selectedRule" [(ngModel)]="defaultRowPerPageRule" size="tiny" >
                  <nb-option *ngFor="let option of optionsPager"    [value]="option.value" (click)="setPager()">{{option.value }}</nb-option>
                </nb-select>
              </div>  
                <div class="table-container col-md-12">
                    <ng2-smart-table class="table-data" [settings]="settingsRules" [source]="sourceRules" (edit)="onEditRule($event)" (create)="onAddRule($event)">
                    </ng2-smart-table>
                </div>
            </nb-tab>
            <nb-tab tabTitle="Parameters">
              <div class="col-sm-12" style="text-align: right; margin-bottom: 0.5rem;">
                <button
                type="submit"
                nbButton
                status="basic"
                (click)="refreshParameters()"
                size="tiny"
            
          
              >
              <nb-icon icon="sync-outline"></nb-icon>
              Refresh
              </button>
              &nbsp;&nbsp;&nbsp;
                <nb-select       [(selected)]="selectedParameter" [(ngModel)]="defaultRowPerPageParameter" size="tiny" >
                  <nb-option *ngFor="let option of optionsPager"    [value]="option.value" (click)="setPager()">{{option.value }}</nb-option>
                </nb-select>
              </div>  
                <div class="table-container col-md-12">
                    <ng2-smart-table class="table-data" [settings]="settingsParameters" [source]="sourceParameters" (edit)="onEditParameter($event)" (create)="onAddParameter($event)">
                    </ng2-smart-table>
                </div>
            </nb-tab>
        </nb-tabset>


    </nb-card-body>
</nb-card>