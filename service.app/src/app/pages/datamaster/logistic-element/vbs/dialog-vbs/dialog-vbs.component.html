<nb-card>
  <nb-card-header>{{ title }}</nb-card-header>
  <nb-card-body>
    <form [formGroup]="vbsForm">
      <input formControlName="type" type="hidden" nbInput id="id" fullWidth />

      <input formControlName="id" type="hidden" nbInput id="type" fullWidth />
    <div class="row">
     <div class="col-sm-6">
      <div class="form-group">
        <label class="label">Name  <span class="obligatory">*</span></label>

        <input
          formControlName="name"
          type="text"
          nbInput
          id="name"
          fullWidth
          fieldSize="small"
          [status]="
            vbsForm.get('name').errors &&
            (vbsForm.get('name').touched || vbsForm.get('name').dirty)
              ? 'danger'
              : 'basic'
          "
        />

        <div class="error-div">
          <span
            class="error-block"
            *ngIf="
              vbsForm.get('name').errors &&
              (vbsForm.get('name').touched || vbsForm.get('name').dirty)
            "
          >
            <span class="error" *ngIf="vbsForm.get('name').errors.required"
              >Name is required</span
            >
            <span class="error" *ngIf="vbsForm.get('name').errors.maxlength"
              >Maximun 10 characters</span
            >
          </span>
        </div>
      </div>
     </div>
     <div class="col-sm-6">
      <div class="form-group">
        <label class="label">EIC Code</label>
        <input
          formControlName="eic"
          type="text"
          nbInput
          id="eic"
          fullWidth
          fieldSize="small"
          [status]="
            vbsForm.get('eic').errors &&
            (vbsForm.get('eic').touched || vbsForm.get('eic').dirty)
              ? 'danger'
              : 'basic'
          "
        />
        <div class="error-div">
          <span
            class="error-block"
            *ngIf="
              vbsForm.get('eic').errors &&
              (vbsForm.get('eic').touched || vbsForm.get('eic').dirty)
            "
          >
            <span class="error" *ngIf="vbsForm.get('eic').errors.required"
              >EIC is required</span
            >
          </span>
        </div>
      </div>
     </div>
     <div class="col-sm-6">
      <div class="form-group">
        <label class="label">Injection Capacity  <span class="obligatory">*</span></label>

        <input
          formControlName="injection_capacity"
          type="text"
          nbInput
          id="injection_capacity"
          fullWidth
          fieldSize="small"
          [status]="
            vbsForm.get('injection_capacity').errors &&
            (vbsForm.get('injection_capacity').touched ||
              vbsForm.get('injection_capacity').dirty)
              ? 'danger'
              : 'basic'
          "
        />
        <div class="error-div">
          <span
            class="error-block"
            *ngIf="
              vbsForm.get('injection_capacity').errors &&
              (vbsForm.get('injection_capacity').touched ||
                vbsForm.get('injection_capacity').dirty)
            "
          >
            <span
              class="error"
              *ngIf="vbsForm.get('injection_capacity').errors.required"
              >Injection is required</span
            >
            <span
              class="error"
              *ngIf="vbsForm.get('injection_capacity').errors.pattern"
              >only numbers (only numbers (points as thousands and commas as
              decimals))</span
            >
            <span
              class="error"
              *ngIf="vbsForm.get('injection_capacity').errors.min"
              >numbers=>0</span
            >
          </span>
        </div>
      </div>
     </div>
     <div class="col-sm-6">
      <div class="form-group">
        <label class="label">Extraction Capacity  <span class="obligatory">*</span></label>

        <input
          formControlName="extraction_capacity"
          type="tex"
          nbInput
          id="extraction_capacity"
          fullWidth
          fieldSize="small"
          [status]="
            vbsForm.get('extraction_capacity').errors &&
            (vbsForm.get('extraction_capacity').touched ||
              vbsForm.get('extraction_capacity').dirty)
              ? 'danger'
              : 'basic'
          "
        />
        <div class="error-div">
          <span
            class="error-block"
            *ngIf="
              vbsForm.get('extraction_capacity').errors &&
              (vbsForm.get('extraction_capacity').touched ||
                vbsForm.get('extraction_capacity').dirty)
            "
          >
            <span
              class="error"
              *ngIf="vbsForm.get('extraction_capacity').errors.required"
              >Extraction is required</span
            >
            <span
              class="error"
              *ngIf="vbsForm.get('extraction_capacity').errors.pattern"
              >only numbers (only numbers (points as thousands and commas as
              decimals))</span
            >
            <span
              class="error"
              *ngIf="vbsForm.get('extraction_capacity').errors.min"
              >numbers=>0</span
            >
          </span>
        </div>
      </div>
     </div>
    </div>
    
   

     
    </form>
    <div class="row">
        <div class="col-sm-6">
          <form [formGroup]="balanceZoneForm">
    
            <div class="form-group">
              <label class="label">Balancing Zone  <span class="obligatory">*</span></label>
              <nb-select
              placeholder="-"
                size="small"
                formControlName="balance_zone_id"
                fullWidth
                (selectedChange)="onChange($event)"
              >
                <nb-option *ngFor="let option of zoneOptions" [value]="option.id">{{
                  option.label
                }}</nb-option>
              </nb-select>
            </div>
          </form>
        </div>
        <div class="col-sm-6">
          <form [formGroup]="vbsForm">
            <div class="form-group">
              <label class="label">Virtual Balancing Points  <span class="obligatory">*</span></label>
              <nb-select
              placeholder="-"
                formControlName="parent_id"
                size="small"
                id="country"
                [status]="errorBalancingPoint == true ? 'danger' : 'basic'"
                fullWidth
              >
                <nb-option *ngFor="let option of vbpOptions" [value]="option.id">{{
                  option.name
                }}</nb-option>
              </nb-select>
              <div class="error-div">
                <span class="error-block" *ngIf="errorBalancingPoint == true">
                  <span class="error" *ngIf="errorBalancingPoint == true"
                    >There are no virtual balancing points results for this balance zone</span
                  >
                </span>
              </div>
            </div>
          </form>
        </div>
    </div>
   
   

 
  </nb-card-body>
  <nb-card-footer style="text-align: right;">
    <button class="cancel" nbButton status="basic" (click)="cancel()" size="small">
      Close
    </button>
    <button
      nbButton
      status="success"
      (click)="add()"
      [disabled]="!vbsForm.valid"
      id="add"
      size="small"
    >
      {{ action }}
    </button>
  </nb-card-footer>
</nb-card>
